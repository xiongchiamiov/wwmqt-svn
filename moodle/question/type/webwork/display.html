<div class="qtext">
    <?php echo $questionhtml; ?>
    <input id="resp<?php echo $qid; ?>_seed" name="resp<?php echo $qid; ?>_seed" type="hidden" value="<?php echo $seed; ?>" />
</div>


<div class="ablock clearfix">
    <?php $this->print_question_submit_buttons($question, $state, $cmoptions, $options); ?>
    <br>
    <?php if($state->event == QUESTION_EVENTGRADE) { ?>
    <table class="answer">
      <tr class="header">
        
        <th class="c0"></th>
        <?php if($showPartiallyCorrectAnswers == 1) { ?>
        <th class="c0"></th>
        <th class="c0">Result</th>
        <?php } ?>
        <th class="c0">Answer</th>
        <th class="c0">Preview</th>
        <th class="c0">Evaluated</th>
        <th class="c0">Errors</th>
      </tr>
      <?php $i = 1; ?>
      <?php $row = 1; foreach ($answers as $answer) { ?>
      <tr class="<?php echo 'r'.$row = $row ? 0 : 1; ?>">
        <td class="c0">
            <?php echo $i . ')'; ?>
        </td>
        <?php if($showPartiallyCorrectAnswers == 1) { ?>
        <td class="c0">
             <?php echo question_get_feedback_image($answer->score); ?>
        </td>
        <td class="c0" style="width: 15%;">
          <?php if($answer->score == 1) { $class = 'correct'; echo "Correct"; } else { $class = 'incorrect'; echo "Incorrect"; } ?>
        </td>
        <?php } ?>
        <td class="c0" style="width: 15%;">
          <?php echo $answer->answer;  ?>
        </td>
        <td class="c0" style="width: 15%;">
          <?php echo $answer->preview; ?>
        </td>
        <td class="c0" style="width: 15%;">
          <?php echo $answer->evaluated; ?>
        </td>
        <td class="c0" style="width: 40%;">
          <?php echo $answer->answer_msg; ?>
        </td>
      </tr>
      <?php $i++; ?>
    <?php } ?>
  </table>
  <?php } ?>

  <?php if (isset($feedback)) { ?>
    <div class="feedback">
        <?php echo $feedback; ?>
    </div>
  <?php } ?>
  
  
</div>